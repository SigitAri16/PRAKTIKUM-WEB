<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Validation</title>
  <style>
    .error {
      color: red;
    }
  </style>
</head>
<body>

  <form id="myForm" onsubmit="validateForm(); return false;">
    <label for="nama">Nama Pelanggan:</label>
    <br>
    <input type="text" id="nama" name="nama" required maxlength="30"><br>
    <span id="errorNama" class="error"></span><br>

    <label for="email">Email:</label>
    <br>
    <input type="email" id="email" name="email" required><br>
    <span id="errorEmail" class="error"></span><br>

    <label for="jam">Jam Keberangkatan:</label>
    <br>
    <input type="text" id="jam" name="jam" required pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]"><br>
    <span id="errorJam" class="error"></span><br>

    <label for="tujuan">Kota Tujuan:</label>
    <br>
    <input type="text" id="kota" name="kota" required>
    <span id="errorKota" class="error"></span><br>

    <label for="jumlahTiket">Jumlah Tiket:</label>
    <br>
    <input type="number" id="jumlahTiket" name="jumlahTiket" required min="1" max="10"><br>
    <span id="errorJumlahTiket" class="error"></span><br>

    <input type="submit" value="Submit">
  </form>

  <script>
    function validateForm() {
      var nama = document.getElementById("nama").value;
      var email = document.getElementById("email").value;
      var jam = document.getElementById("jam").value;
      var tujuan = document.getElementById("kota").value;
      var jumlahTiket = document.getElementById("jumlahTiket").value;

      // Reset pesan error
      document.getElementById("errorNama").innerHTML = "";
      document.getElementById("errorEmail").innerHTML = "";
      document.getElementById("errorJam").innerHTML = "";
      document.getElementById("errorKota").innerHTML = "";
      document.getElementById("errorJumlahTiket").innerHTML = "";

      if (nama.length == 0 || nama.length > 30) {
        document.getElementById("errorNama").innerHTML = "Nama pelanggan harus diisi (maksimal 30 karakter).";
        return;
      }
      var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        document.getElementById("errorEmail").innerHTML = "Format email tidak valid.";
        return;
      }
      var jamRegex = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
      if (!jamRegex.test(jam)) {
        document.getElementById("errorJam").innerHTML = "Format jam tidak valid (00:00 - 23:59).";
        return;
      }
      if (tujuan.length == 0) {
        document.getElementById("errorTujuan").innerHTML = "Tujuan keberangkatan harus diisi.";
        return;
      } 
      if (jumlahTiket < 1 || jumlahTiket > 10 || !Number.isInteger(parseInt(jumlahTiket))) {
        document.getElementById("errorJumlahTiket").innerHTML = "Jumlah tiket harus bilangan bulat antara 1 dan 10.";
        return;
      }
      window.location.href = "baru.html"
      alert("Pesanan  berhasil dikirim!");
      

    }
  </script>

</body>
</html>