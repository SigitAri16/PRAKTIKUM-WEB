<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Klinik Gigi - Admin</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/dist/css/adminlte.min.css">

  <style>
    #booking:hover,
    #simpanbook:hover,
    #simpan:hover {
      text-decoration: underline;
    }

    .form-control {
      border: 1px solid black;
    }

    a {
      color: #18272F;
      position: relative;
      text-decoration: none;
    }

    a::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 4px;
      border-radius: 4px;
      background-color: #18272F;
      bottom: 0;
      left: 0;
      transform-origin: right;
      transform: scaleX(0);
      transition: transform .3s ease-in-out;
    }

    a:hover::before {
      transform-origin: center;
      transform: scaleX(1);
    }
  </style>
</head>

<body class="hold-transition sidebar-mini">
  <div class="wrapper">

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
      <!-- Left navbar links -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
      </ul>
    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
      <!-- Brand Logo -->
      <a href="starter.html" class="brand-link">
        <span class="brand-text font-weight-light ml-4">Klinik Gigi</span>
      </a>

      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Sidebar Menu -->
        <nav class="mt-2">
          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
            <!-- Dashboard -->
            <li class="nav-item">
              <a href="starter.html" class="nav-link">
                <i class="nav-icon fas fa-tachometer-alt"></i>
                <p>
                  Dashboard
                </p>
              </a>
            </li>


            <!-- Dokter -->
            <li class="nav-item">
              <a href="datadokter.html" class="nav-link">
                <i class="nav-icon fas fa-user-md"></i>
                <p>
                  Dokter
                </p>
              </a>
            </li>

            <!-- Layanan -->
            <li class="nav-item">
              <a href="layanan.html" class="nav-link">
                <i class="nav-icon fas fa-cogs"></i>
                <p>
                  Layanan
                </p>
              </a>
            </li>

          </ul>
        </nav>
        <!-- /.sidebar-menu -->
      </div>
      <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container">
          <div class="row mb-2">
            <div class="col-md-12">
              <h1 class="text-center font-weight-bold">Admin - Klinik Kesehatan Gigi Sipefara - Depok</h1>
            </div>
          </div>
        </div>
      </div>

      <!-- Main content -->
      <section class="content">
        <!-- Your page content goes here -->
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-header">
                  <h3 class="card-title">Daftar Booking</h3>
                </div>
                <div class="card-body">
                  <button class="btn btn-primary mb-3" id="booking" data-toggle="modal" data-target="#addBookingModal">Tambah Booking</button>
                  <div class="table-responsive">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>No.</th>
                          <th>Nama Pasien</th>
                          <th>Nomor Telepon</th>
                          <th>Tanggal Booking</th>
                          <th>Dokter</th>
                          <th>Layanan</th>
                          <th>Aksi</th>
                        </tr>
                      </thead>
                    <tbody id="bookingList">
                      <!-- Data booking akan ditampilkan di sini -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <!-- Formulir Modal untuk Tambah Booking -->
    <div class="modal fade" id="addBookingModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Tambah Booking</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- Formulir untuk menambah booking -->
            <form id="addBookingForm">
              <div class="form-group">
                <label for="addName">Nama Pasien:</label>
                <input type="text" class="form-control" id="addName" required>
              </div>
              <div class="form-group">
                <label for="addPhone">Nomor Telepon:</label>
                <input type="tel" class="form-control" id="addPhone" required minlength="11" maxlength="13">
              </div>
              <div class="form-group">
                <label for="addDate">Tanggal Booking:</label>
                <input type="date" class="form-control" id="addDate" required>
              </div>
              <div class="form-group">
                <label for="addDoctor">Dokter:</label>
                <input type="text" class="form-control" id="addDoctor" required>
              </div>
              <div class="form-group">
                <label for="addService">Layanan:</label>
                <input type="text" class="form-control" id="addService" required>
              </div>
              <button type="submit" id="simpanbook" class="btn btn-primary">Tambah Booking</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Formulir Modal untuk Edit Booking -->
    <div class="modal fade" id="editBookingModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Edit Booking</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- Formulir untuk mengedit booking -->
            <form id="editBookingForm">
              <div class="form-group">
                <label for="editName">Nama Pasien:</label>
                <input type="text" class="form-control" id="editName" required>
              </div>
              <div class="form-group">
                <label for="editPhone">Nomor Telepon:</label>
                <input type="tel" class="form-control" id="editPhone" required>
              </div>
              <div class="form-group">
                <label for="editDate">Tanggal Booking:</label>
                <input type="date" class="form-control" id="editDate" required>
              </div>
              <div class="form-group">
                <label for="editDoctor">Dokter:</label>
                <input type="text" class="form-control" id="editDoctor" required>
              </div>
              <div class="form-group">
                <label for="editService">Layanan:</label>
                <input type="text" class="form-control" id="editService" required>
              </div>
              <button type="submit" id="simpan" class="btn btn-primary">Simpan Perubahan</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Your custom JavaScript for handling booking data -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Contoh data booking
        var bookings = [
          { name: "Sigit", phone: "123456789", date: "2024-01-15", doctor: "Dokter Gigi A", service: "Pembersihan Gigi" },

        ];

        // Fungsi untuk menampilkan data booking
        function displayBookings() {
          var bookingList = document.getElementById("bookingList");
          bookingList.innerHTML = "";

          bookings.forEach(function (booking, index) {
            var row = bookingList.insertRow();
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            var cell7 = row.insertCell(6);

            cell1.innerHTML = index + 1;
            cell2.innerHTML = booking.name;
            cell3.innerHTML = booking.phone;
            cell4.innerHTML = booking.date;
            cell5.innerHTML = booking.doctor;
            cell6.innerHTML = booking.service;

            // Tambahkan tombol Edit dan Delete
            var editButton = document.createElement("button");
            editButton.innerHTML = "Edit";
            editButton.className = "btn btn-warning btn-sm";
            editButton.onclick = function () {
              openEditModal(index);
            };

            var deleteButton = document.createElement("button");
            deleteButton.innerHTML = "Delete";
            deleteButton.className = "btn btn-danger btn-sm";
            deleteButton.onclick = function () {
              deleteBooking(index);
            };

            cell7.appendChild(editButton);
            cell7.appendChild(deleteButton);
          });
        }

        // Fungsi untuk membuka modal edit
        function openEditModal(index) {
          var booking = bookings[index];

          // Isi nilai formulir modal dengan data booking
          document.getElementById("editName").value = booking.name;
          document.getElementById("editPhone").value = booking.phone;
          document.getElementById("editDate").value = booking.date;
          document.getElementById("editDoctor").value = booking.doctor;
          document.getElementById("editService").value = booking.service;

          // Tampilkan modal
          $("#editBookingModal").modal("show");

          // Fungsi untuk menangani pengiriman formulir edit
          document.getElementById("editBookingForm").onsubmit = function (event) {
            event.preventDefault();

            // Perbarui data booking
            bookings[index] = {
              name: document.getElementById("editName").value,
              phone: document.getElementById("editPhone").value,
              date: document.getElementById("editDate").value,
              doctor: document.getElementById("editDoctor").value,
              service: document.getElementById("editService").value,
            };

            // Tutup modal
            $("#editBookingModal").modal("hide");

            // Tampilkan kembali daftar booking
            displayBookings();
          };
        }

        // Fungsi untuk menghapus booking
        function deleteBooking(index) {
          // Konfirmasi penghapusan
          var confirmation = confirm("Apakah Anda yakin ingin menghapus booking ini?");

          if (confirmation) {
            // Hapus booking dari array
            bookings.splice(index, 1);

            // Tampilkan kembali daftar booking
            displayBookings();
          }
        }

        // Fungsi untuk menambah booking baru
        function addBooking(name, phone, date, doctor, service) {
          bookings.push({ name: name, phone: phone, date: date, doctor: doctor, service: service });

          // Tampilkan kembali daftar booking
          displayBookings();
        }

        // Fungsi untuk menangani pengiriman formulir tambah booking
        document.getElementById("addBookingForm").onsubmit = function (event) {
          event.preventDefault();

          // Ambil nilai dari formulir
          var name = document.getElementById("addName").value;
          var phone = document.getElementById("addPhone").value;
          var date = document.getElementById("addDate").value;
          var doctor = document.getElementById("addDoctor").value;
          var service = document.getElementById("addService").value;

          // Tambahkan booking baru
          addBooking(name, phone, date, doctor, service);

          // Tutup modal
          $("#addBookingModal").modal("hide");
        };

        // Tampilkan daftar booking pertama kali
        displayBookings();
      });
    </script>

    <!-- Required Scripts -->
    <script src="https://adminlte.io/themes/v3/plugins/jquery/jquery.min.js"></script>
    <script src="https://adminlte.io/themes/v3/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://adminlte.io/themes/v3/dist/js/adminlte.min.js"></script>
</body>

</html>